APP_NAME=PlayTube
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

# ===========================================
# Production Configuration (Railway)
# ===========================================
# Uncomment and configure for Railway deployment:
#
# APP_ENV=production
# APP_DEBUG=false
# APP_URL=https://your-app.railway.app
#
# IMPORTANT: Use HTTPS URL for APP_URL in production!
# Railway provides automatic HTTPS for all deployments.

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# ===========================================
# Database Configuration
# ===========================================
# SQLite (default for development)
DB_CONNECTION=sqlite

# PostgreSQL (recommended for Railway)
# Add Postgres plugin in Railway, then use these:
# DB_CONNECTION=pgsql
# DB_HOST=${PGHOST}
# DB_PORT=${PGPORT}
# DB_DATABASE=${PGDATABASE}
# DB_USERNAME=${PGUSER}
# DB_PASSWORD=${PGPASSWORD}

# MySQL (alternative)
# DB_CONNECTION=mysql
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE=playtube
# DB_USERNAME=root
# DB_PASSWORD=

# ===========================================
# Session Configuration
# ===========================================
# For production with HTTPS (Railway):
#   SESSION_DRIVER=redis (or database)
#   SESSION_SECURE_COOKIE=true
#
SESSION_DRIVER=file
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=
SESSION_SECURE_COOKIE=false

# ===========================================
# Queue Configuration
# ===========================================
# Development: database
# Production: redis (add Redis plugin in Railway)
#
QUEUE_CONNECTION=database

# Redis Queue Settings (for production):
# QUEUE_CONNECTION=redis

# ===========================================
# Cache Configuration
# ===========================================
# Development: database or file
# Production: redis
#
CACHE_STORE=database

# Redis Cache (for production):
# CACHE_STORE=redis

# ===========================================
# Redis Configuration
# ===========================================
# Add Redis plugin in Railway, it auto-sets REDIS_URL
# 
REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# Railway Redis (uses REDIS_URL automatically):
# REDIS_URL=${REDIS_URL}

# ===========================================
# File Storage Configuration
# ===========================================
# IMPORTANT: Railway filesystem is EPHEMERAL!
# Use S3 or Cloudflare R2 for production.
#
FILESYSTEM_DISK=local

# AWS S3:
# FILESYSTEM_DISK=s3
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1
# AWS_BUCKET=playtube-storage

# Cloudflare R2:
# FILESYSTEM_DISK=s3
# AWS_ACCESS_KEY_ID=your-r2-access-key
# AWS_SECRET_ACCESS_KEY=your-r2-secret-key
# AWS_DEFAULT_REGION=auto
# AWS_BUCKET=playtube-storage
# AWS_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
# AWS_USE_PATH_STYLE_ENDPOINT=true

# ===========================================
# Upload Limits
# ===========================================
# Must match docker/php.ini and docker/nginx.conf
# Default: 2GB (2097152 KB)
UPLOAD_MAX_SIZE_KB=2097152

# ===========================================
# Mail Configuration
# ===========================================
MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

BROADCAST_CONNECTION=log

VITE_APP_NAME="${APP_NAME}"

# ===========================================
# Go Video Server Configuration
# ===========================================
# High-performance video streaming server
#
# Development: Go server runs locally
USE_GO_VIDEO_SERVER=true
GO_VIDEO_SERVER_URL=http://localhost:8090
GO_VIDEO_SECRET_KEY=change-this-to-a-secure-random-key
VIDEO_DELIVERY_DRIVER=go

# Production (Railway separate service):
# GO_VIDEO_SERVER_URL=http://go-video-server.railway.internal:8090
# GO_VIDEO_SECRET_KEY=your-secure-random-key-min-32-chars

# HLS Adaptive Streaming
HLS_ENABLED=true
HLS_SEGMENT_DURATION=6
DASH_ENABLED=false

# ===========================================
# Railway-specific Settings
# ===========================================
# Control startup behavior (use Railway "Release Command" instead if possible)
RUN_MIGRATIONS=false
RUN_SEED=false

# The PORT is set automatically by Railway
# PORT=80


# Video Cache Settings
VIDEO_CACHE_SIZE=1073741824
VIDEO_CACHE_ENABLED=true
