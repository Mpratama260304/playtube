# ============================================
# PlayTube Environment Variables for Phala Cloud
# ============================================
# IMPORTANT: Copy this file and set all placeholder values before deployment
# All passwords MUST be changed from defaults!
# ============================================

# ===========================================
# Application Settings
# ===========================================
APP_NAME=PlayTube
APP_ENV=production
APP_DEBUG=false

# IMPORTANT: Generate a new key with: php artisan key:generate --show
APP_KEY=base64:GENERATE_A_NEW_KEY_HERE_32_CHARACTERS

# IMPORTANT: Set this to your actual public URL (e.g., https://playtube.example.com)
# Do NOT use localhost in production!
APP_URL=https://your-domain.phala.cloud
APP_PORT=8080

# ===========================================
# Proxy & HTTPS Settings (Required for Phala Cloud)
# ===========================================
# Trust all proxies (Phala Cloud reverse proxy)
TRUSTED_PROXIES=*

# Force HTTPS for all URLs
FORCE_HTTPS=true

# ===========================================
# Database Configuration (MySQL/MariaDB)
# ===========================================
DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=playtube
DB_USERNAME=playtube

# CRITICAL: Change these passwords! Do NOT leave as defaults!
DB_PASSWORD=secure_db_password_change_me_123
DB_ROOT_PASSWORD=secure_root_password_change_me_456

# ===========================================
# Redis Configuration (Cache, Session, Queue)
# ===========================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=null

# ===========================================
# Cache, Session & Queue (All use Redis)
# ===========================================
CACHE_DRIVER=redis
CACHE_STORE=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_SECURE_COOKIE=true
QUEUE_CONNECTION=redis

# ===========================================
# Filesystem & Storage
# ===========================================
FILESYSTEM_DISK=public

# ===========================================
# Logging
# ===========================================
LOG_CHANNEL=stack
LOG_LEVEL=error

# ===========================================
# Video Server Configuration
# ===========================================
VIDEO_SERVER_URL=http://video-server:8090
VIDEO_DELIVERY_DRIVER=nginx
VIDEO_GENERATE_THUMBNAIL=true

# Go Video Server (if using external video server)
USE_GO_VIDEO_SERVER=true
GO_VIDEO_SERVER_URL=http://video-server:8090
GO_VIDEO_SECRET_KEY=change-this-to-a-secure-random-key-in-production

# ===========================================
# Mail Configuration (Optional)
# ===========================================
MAIL_MAILER=log
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="noreply@your-domain.phala.cloud"
MAIL_FROM_NAME="${APP_NAME}"

# ===========================================
# Docker Image (Optional override)
# ===========================================
DOCKER_IMAGE=mpratamamail/playtube:latest
